import{u as v}from"./DuyO21MA.js";import{g as b,r as i,o as r,c,b as u,t as d,m as y,a as I}from"./DOh1AU71.js";const k={class:"image-uploader"},w=["disabled"],x={key:0,class:"text-red-500 mt-2"},U=b({__name:"ImageUploader",emits:["uploaded"],setup(B,{emit:p}){const m=p,{uploadImage:f}=v(),a=i(null),t=i(!1),s=i(""),g=()=>{var e;(e=a.value)==null||e.click()},_=async e=>{var n;const l=(n=e.target.files)==null?void 0:n[0];if(l){s.value="",t.value=!0;try{if(!l.type.startsWith("image/"))throw new Error("Please select an image file");if(l.size>5*1024*1024)throw new Error("Image size should be less than 5MB");const o=await f(l);m("uploaded",o),a.value&&(a.value.value="")}catch(o){s.value=o.message||"Failed to upload image"}finally{t.value=!1}}};return(e,h)=>(r(),c("div",k,[u("input",{type:"file",ref_key:"fileInput",ref:a,accept:"image/*",onChange:_,class:"hidden"},null,544),u("button",{onClick:g,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",disabled:t.value},d(t.value?"Uploading...":"Upload Image"),9,w),s.value?(r(),c("p",x,d(s.value),1)):y("",!0)]))}}),F=I(U,[["__scopeId","data-v-4dde82fd"]]);export{F as default};
